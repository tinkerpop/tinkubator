<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>XEP-xxxx:
 Linked Process Protocol</title><link rel="stylesheet" type="text/css" 
href="lop_files/xmpp.css"><link rel="shortcut icon" type="image/x-icon" 
href="http://xmpp.org/favicon.ico"><meta name="DC.Title" content="Linked
 Process Protocol"><meta name="DC.Creator" content="Marko Rodriguez"><meta
 name="DC.Creator" content="Joshua Shinavier"><meta 
name="DC.Description" content="  	Linked Process is a protocol for 
distributed computing that facilitates the creation of an 
Internet-scale, general-purpose compute cloud. Any computing device with
 an Internet connection can consume and/or provide computing  resources 
in a Linked Process cloud. Resource consumption occurs when a device 
migrates arbitrary code to another device for execution. Linked Process 
is applicable where it is necessary for a resource consumer to define 
the means by which a provider's resources are utilized.
  "><meta name="DC.Publisher" content="XMPP Standards Foundation"><meta 
name="DC.Contributor" content="XMPP Extensions Editor"><meta 
name="DC.Date" content="2009-09-18"><meta name="DC.Type" content="XMPP 
Extension Protocol"><meta name="DC.Format" content="XHTML"><meta 
name="DC.Identifier" content="XEP-xxxx"><meta name="DC.Language" 
content="en"><meta name="DC.Rights" content=" Linked Process is 
copyright (c) 2009 by the Los Alamos National Laboratory of the United 
States Government."></head><body><h1>XEP-xxxx: Linked Process Protocol</h1><table><tbody><tr
 valign="top"><td><strong>Abstract:</strong></td><td>
  	Linked Process is a protocol for distributed computing that 
facilitates the creation of an Internet-scale, general-purpose compute 
cloud. Any computing device with an Internet connection can consume 
and/or provide computing  resources in a Linked Process cloud. Resource 
consumption occurs when a device migrates arbitrary code to another 
device for execution. Linked Process is applicable where it is necessary
 for a resource consumer to define the means by which a provider's 
resources are utilized.
  </td></tr><tr valign="top"><td><strong>Authors:</strong></td><td>Marko
 Rodriguez, Joshua Shinavier</td></tr><tr valign="top"><td><strong>Copyright:</strong></td><td>©
 1999 - 2009 XMPP Standards Foundation. <a href="#appendix-legal">SEE 
LEGAL NOTICES</a>.</td></tr><tr valign="top"><td><strong>Status:</strong></td><td>ProtoXEP</td></tr><tr
 valign="top"><td><strong>Type:</strong></td><td>Standards Track</td></tr><tr
 valign="top"><td><strong>Version:</strong></td><td>0.0.1</td></tr><tr 
valign="top"><td><strong>Last&nbsp;Updated:</strong></td><td>2009-09-18</td></tr></tbody></table><hr><p
 style="color: red;">WARNING: This document has not yet been accepted 
for consideration or approved in any official manner by the XMPP 
Standards Foundation, and this document is not yet an XMPP Extension 
Protocol (XEP). If this document is accepted as a XEP by the XMPP 
Council, it will be published at &lt;<a 
href="http://xmpp.org/extensions/">http://xmpp.org/extensions/</a>&gt; 
and announced on the &lt;standards@xmpp.org&gt; mailing list.</p><hr><h2>Table
 of Contents</h2><div class="indent"><p><br>1.  <a href="#intro">Introduction</a><br>2.
  <a href="#reqs">Requirements</a><br>3.  <a href="#glossary">Glossary</a><br>4.
  <a href="#usecases">Use Cases</a><br>&nbsp;&nbsp;&nbsp;
      4.1.  <a href="#sect-id2242882">Farm Use Cases</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

      4.1.1.  <a href="#sect-id2254754">Rules Regarding Farm Presence</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

      4.1.2.  <a href="#sect-id2254920">Spawning a Virtual Machine</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

      4.1.3.  <a href="#sect-id2255219">Submitting a Job to a Virtual 
Machine</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      4.1.4.  <a href="#sect-id2255656">Determining the Status of a 
Virtual Machine Job</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      4.1.5.  <a href="#sect-id2255979">Aborting a Virtual Machine Job</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

      4.1.6.  <a href="#sect-id2256258">Managing Virtual Machine 
Variable Bindings</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      4.1.7.  <a href="#sect-id2256828">Terminating a Virtual Machine</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

      4.1.8.  <a href="#sect-id2257047">Discovering Information About a 
Farm</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      4.1.9.  <a href="#sect-id2257950">General Farm Use Cases</a><br>&nbsp;&nbsp;&nbsp;

      4.2.  <a href="#sect-id2258111">Registry Use Cases</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

      4.2.1.  <a href="#sect-id2258169">Rules Regarding Registry 
Presence</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      4.2.2.  <a href="#sect-id2258265">Locating Countrysides with Farms</a><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

      4.2.3.  <a href="#sect-id2258314">Discovering Information About a 
Registry</a><br>5.  <a href="#errors">Error Codes</a><br>&nbsp;&nbsp;&nbsp;

      5.1.  <a href="#sect-id2258484">Farm Error Codes</a><br>6.  <a 
href="#security">Security Considerations</a><br>7.  <a href="#iana">IANA
 Considerations</a><br>8.  <a href="#registrar">XMPP Registrar 
Considerations</a><br>9.  <a href="#schema">XML Schema</a><br>10.  <a 
href="#acknowledge">Acknowledgements</a></p><p><a href="#appendices">Appendices</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a
 href="#appendix-docinfo">A: Document Information</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a
 href="#appendix-authorinfo">B: Author Information</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a
 href="#appendix-legal">C: Legal Notices</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a
 href="#appendix-xmpp">D: Relation to XMPP</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a
 href="#appendix-discuss">E: Discussion Venue</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a
 href="#appendix-conformance">F: Requirements Conformance</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a
 href="#appendix-notes">G: Notes</a><br>&nbsp;&nbsp;&nbsp;&nbsp;<a 
href="#appendix-revs">H: Revision History</a></p></div><hr><h2>1.
       <a name="intro" id="intro">Introduction</a></h2>
	<p class="" style="">
	Linked Process is a protocol for Internet-scale, general-purpose 
distributed computing. With an implementation of this protocol, any 
computing device with an Internet connection can contribute computing 
resources to a user-generated compute cloud.
	</p><ul class="" style="">
		<li class="" style="">The term <span class="strong">computing device</span>
 is broad and spans particulars such as cell phones, laptops, desktops, 
servers, supercomputers, etc. In Linked Process, a computing device is 
anything that maintains a central processing unit (CPU) that can be 
programmed to execute any desired computation.</li>
		<li class="" style="">The term <span class="strong">computing 
resources</span> is broad and spans particulars such as clock cycles, 
data sets, software application programming interfaces (APIs), or 
specialized hardware componets such as cell phone cameras, 
field-programmable gate array (FPGA) circuits, etc.</li>
		<li class="" style="">The term <span class="strong">compute cloud</span>
 is the collection of all Linked Process enabled devices, their 
resources, and the Linked Process specific software components defined 
later in this specification.</li>
		</ul>
	
	<p class="" style="">
	Within the category of computing devices, Linked Process makes a 
distinction between resource consumers (devices making use of non-local 
computing resources) and a resource providers (devices offering 
computing resources) [<a href="#nt-id2243119">1</a>]. Linked Process 
allows a resource consumer to leverage the computing resources offered 
by a resource provider in anyway deemed appropriate by the resource 
consumer. This is accomplished by the resource consumer 
providing/migrating/sending code (i.e. software instructions) to a 
computer language interpreter maintained by the resource provider. As 
such, it is up to the resource consumer to define the instructions to be
 executed by the provider. Given this architecture, resource providing 
devices in a Linked Process cloud are general-purpose computing 
sandboxes (i.e. they can be leveraged for computational ends that are 
defined by a resource consumer).
	</p>
	<p class="" style="">
	Linked process is unlike Remote Procedure Call (RPC) and Web Service 
models, where the means by which resources are consumed are defined <span
 class="em">apriori</span> by the deployer of the service (in the way of
 functions/methods that can be remotely executed/invoked). The benefit 
of this protocol is that computing resources that exist elsewhere on the
 Internet can be leveraged by code that was not 
developed/created/inteded by the owner/provider of those resources.
	</p>
<h2>2.
       <a name="reqs" id="reqs">Requirements</a></h2>
  <p class="" style="">
  Linked Process was developed to address the following two distributed 
computing requirements: <span class="em">Internet-scale</span> and <span
 class="em">general-purpose</span>. These requirements imply yet more 
requirements which accompany their description below.
  </p>
  <ul class="" style="">
  	<li class="" style=""><span class="strong">Internet-scale</span>: it 
is required that any device with an Internet connection (from a cell 
phone to a supercomputer) be able provide/contribute and 
consume/leverage computing resources in a Linked Process cloud.</li>
		<ul class="" style="">
			<li class="" style=""><span class="strong">Decentralized</span>: it 
is required that the computing resources are not necessarily centralized
 or controlled by any one party.</li>
			<li class="" style=""><span class="strong">Discoverable</span>: it is
 required that resource providers be discoverable by resources 
consumers.</li>
			<li class="" style=""><span class="strong">Transient</span>: it is 
required that devices coming online and offline are gracefully 
incoporated and removed from the cloud.</li>
		</ul>
  	<li class="" style=""><span class="strong">General-purpose</span>: It
 is required that consumers be able to utilize provided resources for 
any desired purpose.</li>
		<ul class="" style="">
			<li class="" style=""><span class="strong">Language-agnostic</span>: 
it is required that the protocol support the migration of code written 
in any computer language.</li>
			<li class="" style=""><span class="strong">Safe</span>: it is 
required that the execution of consumer code be conﬁned by permissions 
clearly specified by the resource provider [<a href="#nt-id2252250">2</a>].</li>
			<li class="" style=""><span class="strong">Accessible</span>: it is 
required that computing resources be accessible when permissions allow 
by ensuring the supported language interpreters provide necessary 
"low-level" manipulations of such resources.</li>
		</ul>
  </ul>
<h2>3.
       <a name="glossary" id="glossary">Glossary</a></h2>
	<p class="" style="">
	The introduction discussed the physical devices and the roles that they
 serve as the hardware infrastructure of a Linked Process cloud. This 
glossary provides a summary of the entites that yield the software 
instructure of a Linked Process cloud. The following entities make up 
the core of the Linked Process protocol [<a href="#nt-id2243270">3</a>].
 The naming convention used follows a "rural" theme [<a 
href="#nt-id2243279">4</a>].
	</p>
    <ul class="" style="">
	    <li class="" style=""><span class="strong">Countryside</span>: an 
XMPP account that is identified by a bare JID. While the term "account" 
or "bare JID" could have been used, in order to follow the rural theme, 
the term countryside was adopted.</li>
		
		<li class="" style=""><span class="strong">Farm</span>: an XMPP client
 that is identified by a fully-qualified JID. The bare JID of the farm 
is known as the farm's countryside. Any device running a farm will have 
an account with an XMPP server. A countryside can host many farms (this 
facilitates the "clustering" of devices). In general, there exists one 
farm for every physical device providing computing resources to a cloud [<a
 href="#nt-id2243335">5</a>] The purpose of a farm is to wait for 
resource consumers to communicate with it in order to spawn/create and 
compute with virtual machines. A farm also specifies the permissions 
that a villein has with respect to its provided computing resources</li>
		
		<li class="" style=""><span class="strong">Virtual machine</span>: a 
computing sandbox/environment that is denoted by an identifier that is 
internally unique to a farm. A virtual machine is spawned from a farm 
and can be of any "species" (i.e. computer language). A virtual machine,
 like a farm, exists on the resource provider's device. Example virtual 
machine species include JavaScript, Python, Ruby, Groovy, etc. A virtual
 machine is the means by which a client (known as a "villein") is able 
to access the computing resources of the device running the virtual 
machine. In short, a virtual machine is the gateway to the computing 
resources of the resource provider.</li>
		
		<li class="" style=""><span class="strong">Registry</span>: an XMPP 
client that is identified by a fully-qualified JID. A registry maintains
 a list of countrysides (i.e. bare JIDs) that have active farms running 
on them. The purpose of a registry is to allow countryside owners to 
advertise themselves. A registry monitors all the presence stanzas 
coming out of a countryside. When there is at least one active farm on 
the countryside, the registry records the countryside and makes that 
information available upon a <tt>disco#items</tt> request.</li>
		
		<li class="" style=""><span class="strong">Villein</span>: an XMPP 
client that is identified by a fully-qualified JID. A villein is a 
software application that is executed by a resource consumer. The 
purpose of a villein is to communicate with farms to spawn and compute 
with virtual machines. A villein communicates with virtual machines to 
perform some type of distributed computation by leveraging remote 
computing resources. "Chunks" of computation submitted to a virtual 
machine from a villein are known as <span class="strong">jobs</span>. 
The term "villein" comes from the medival jargon where "villeins 
generally rented small homes, with or without land. As part of the 
contract with their landlord, they were expected to use some of their 
time to farm the lord's fields" [<a href="#nt-id2243406">6</a>].</li>
	</ul>
	<p class="" style="">
	In short, a resource consumer maintains a villein that communicates 
with a resource provider's farm in order to spawn and compute with a 
virtual machine that leverages the computing resources of the provider. 
 
	</p>

<h2>4.
       <a name="usecases" id="usecases">Use Cases</a></h2>
	<p class="" style="">
	Given that Linked Process provides an Internet-scale, general-purpose 
compute cloud, there are many use cases. Before listing a collection of 
general use case scenarios, the following subsections will present the 
possible interactions that can occur in a Linked Process cloud. These 
interactions are specified with protocol examples. Once the specifics of
 the protocol are understood, the end of this section will discuss more 
generalized scenarios in which Linked Process can be useful.
	</p>
	<div class="indent"><h3>4.1 <a name="sect-id2242882" 
id="sect-id2242882">Farm Use Cases</a></h3>
		<p class="" style="">
		This is the list of the XMPP stanzas (i.e. packets) that MUST be 
supported by a farm implementation.
		</p>
		<ul class="" style="">
			 <li class="" style=""><tt>&lt;presence/&gt;</tt>: for denoting 
presence status and for managing subscriptions.</li>
			 <li class="" style=""><tt>&lt;spawn_vm/&gt;</tt>: for creating a new
 virtual machine.</li>
			 <li class="" style=""><tt>&lt;submit_job/&gt;</tt>: for 
executing/computing/evaluating an expression in a virtual machine.</li>
			 <li class="" style=""><tt>&lt;ping_job/&gt;</tt>: for inquiring 
about the status/progress/state of a job in a virtual machine.</li>
			 <li class="" style=""><tt>&lt;abort_job/&gt;</tt>: for 
canceling/stopping the execution of a job in a virtual machine.</li>
			 <li class="" style=""><tt>&lt;manage_bindings/&gt;</tt>: for getting
 and setting variable bindings in a virtual machine.</li>
			 <li class="" style=""><tt>&lt;terminate_vm/&gt;</tt>: for 
halting/quitting/closing a virtual machine.</li>
			 <li class="" style=""><tt>disco#info</tt>: for discovering the 
permissions, configurations, and statistics of a farm and its spawned 
virtual machines.</li>
		 </ul>
		
		<div class="indent"><h3>4.1.1 <a name="sect-id2254754" 
id="sect-id2254754">Rules Regarding Farm Presence</a></h3>
			<p class="" style="">
			The farm specification for <tt>&lt;presence/&gt;</tt> is built on the
 specification as defined by the <a 
href="http://xmpp.org/rfcs/rfc3921.html">Instant Messaging</a> XMPP 
specification [<a href="#nt-id2254779">7</a>]. What follows is a 
collection of guidelines regarding the use of <tt>&lt;presence/&gt;</tt>
 by a farm.
			</p>
			<ul class="" style="">
				<li class="" style="">All <tt>&lt;presence type="subscribe"/&gt;</tt>
 requests SHOULD be accepted with a <tt>&lt;presence 
type="subscribed"/&gt;</tt> response. Moreover, it is RECOMMENDED that 
subscriptions <span class="em">not</span> be bidirectional in order to 
reduce XMPP communication overhead. Thus, villeins can subscribe to 
farms, but farms do not subscribe to villeins. Finally, <tt>&lt;presence
 type="unsubscribe"/&gt;</tt> should be handled in an analogous manner [<a
 href="#nt-id2254826">8</a>].</li>
				<li class="" style="">The priority of a farm SHOULD be the highest 
priority. Thus, all stanzas sent to the bare JID should go to the farm.</li>
				<li class="" style="">The status message of a <tt>&lt;presence/&gt;</tt>
 stanza SHOULD be human readable and useful for a human to discern the 
current state of the farm.</li>
			</ul>
			<p class="" style="">
			There are three types of non-subscription-based <tt>&lt;presence/&gt;</tt>
 stanzas that a farm produces.
			</p>
			<ul class="" style="">
				<li class="" style=""><tt>type="available"</tt>: an availalbe 
presence denotes that the farm is active and accepting stanzas.</li>
				<li class="" style=""><tt>&lt;show&gt;dnd&lt;/show&gt;</tt>: an 
available presence but with a "do not disturb" denotes that the farm is 
busy and is not accepting stanzas of type <tt>&lt;spawn_vm/&gt;</tt></li>
				<li class="" style=""><tt>type="unavailable"</tt>: an unavailable 
presence denotes that the farm is inactive and is not accepting any 
stanzas.</li>
			</ul>
		</div>
		
		<div class="indent"><h3>4.1.2 <a name="sect-id2254920" 
id="sect-id2254920">Spawning a Virtual Machine</a></h3>
			<p class="" style="">
			A <tt>&lt;spawn_vm/&gt;</tt> element is wrapped by an <tt>&lt;iq/&gt;</tt>
 element. The purpose of <tt>&lt;spawn_vm/&gt;</tt> is to have a farm 
create a new virtual machine. It is through a virtual machine that a 
villein is able to access the computing resources of the physical device
 that hosts the farm (i.e. the resource provider). A virtual machine 
will maintain a state throughout a villein "session" with that virtual 
machine. The only way to alter the state of a virtual machine is through
 submitting jobs and updating its variable bindings [<a 
href="#nt-id2254953">9</a>].
			</p>
			<ul class="" style="">
				<li class="" style="">Villein generated <tt>&lt;iq type="get"&gt;</tt>
 <tt>&lt;spawn_vm/&gt;</tt>:</li>
				<ul class="" style="">      
					<li class="" style=""><tt>xmlns</tt> attribute: <tt>http://linkedprocess.org/2009/06/Farm#</tt>.</li>
					<li class="" style=""><tt>vm_species</tt> attribute: the language 
of the virtual machine to be spawned (values are implementation 
dependent).</li>
					<li class="" style=""><tt>farm_password</tt> attribute: the 
password of the farm [<a href="#nt-id2255027">10</a>].</li>
				</ul>
				<li class="" style="">Farm generated <tt>&lt;iq type="result"&gt;</tt>
 or <tt>&lt;iq type="error"&gt;</tt> <tt>&lt;spawn_vm/&gt;</tt>:</li>
				<ul class="" style="">
					<li class="" style=""><tt>xmlns</tt> attribute: <tt>http://linkedprocess.org/2009/06/Farm#</tt>.</li>
					<li class="" style=""><tt>vm_id</tt> attribute: a farm-internal 
unique identifier for the newly created virtual machine. This MUST be 
provided if <tt>&lt;iq type="result"/&gt;</tt>.</li> 
					<li class="" style=""><tt>vm_species</tt> attribute: the species of
 the newly created virtual machine. This MUST be provided if <tt>&lt;iq 
type="result"/&gt;</tt>.</li>              
					<li class="" style="">One of these error conditions MUST be 
provided if <tt>&lt;iq type="error"/&gt;</tt>.</li>
					<ul class="" style="">
						<li class="" style=""><tt>&lt;species_not_supported/&gt;</tt></li>
						<li class="" style=""><tt>&lt;farm_is_busy/&gt;</tt></li>
						<li class="" style=""><tt>&lt;malformed_packet/&gt;</tt></li>
						<li class="" style=""><tt>&lt;internal_error/&gt;</tt></li>
						<li class="" style=""><tt>&lt;wrong_farm_password/&gt;</tt></li>
						<li class="" style="">if an error occurred, the farm SHOULD 
provide some implementation specific human-readable information 
detailing the error in <tt>&lt;text/&gt;</tt>. Error responses extend 
the requirements set forth by the <a 
href="http://xmpp.org/rfcs/rfc3920.html">Core</a>  XMPP specification.</li>
 
					</ul>
				</ul>
			</ul>
		 
<p class="caption"><a name="example-1" id="example-1"></a>Example 1. A 
successful &lt;spawn_vm/&gt; request.</p><div class="indent"><pre>&lt;iq from="lp1@linkedprocess.org/villein" 
  to="lp2@linkedprocess.org/farm" type="get" id="xxxx"&gt;
  &lt;spawn_vm xmlns="http://linkedprocess.org/2009/06/Farm#" vm_species="javascript"/&gt;
&lt;/iq&gt;

&lt;iq from="lp2@linkedprocess.org/farm" 
  to="lp1@linkedprocess.org/villein" type="result" id="xxxx"&gt;
  &lt;spawn_vm xmlns="http://linkedprocess.org/2009/06/Farm#" vm_id="62F4E464" vm_species="javascript"/&gt;
&lt;/iq&gt;
</pre></div>		
<p class="caption"><a name="example-2" id="example-2"></a>Example 2. An 
unsuccessful &lt;spawn_vm/&gt; request.</p><div class="indent"><pre>&lt;iq from="lp1@linkedprocess.org/villein" 
  to="lp2@linkedprocess.org/farm" type="get" id="yyyy"&gt;
  &lt;spawn_vm xmlns="http://linkedprocess.org/2009/06/Farm#" vm_species="javascr"/&gt;
&lt;/iq&gt;

&lt;iq from="lp2@linkedprocess.org/farm" 
  to="lp1@linkedprocess.org/villein" type="error" id="yyyy"&gt;
  &lt;spawn_vm xmlns="http://linkedprocess.org/2009/06/Farm#"/&gt;  
  &lt;error code="503" type="cancel"&gt;
    &lt;service_unavailable xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"/&gt;
    &lt;species_not_supported xmlns="http://linkedprocess.org/2009/06/Farm#"/&gt;
    &lt;text xmlns="urn:ietf:params:xml:ns:xmpp-stanzas" xml:lang="en"&gt;
      'javascr' is not a supported virtual machine species
    &lt;/text&gt;  
  &lt;/error&gt;   
&lt;/iq&gt;
</pre></div>
		</div>
		
		<div class="indent"><h3>4.1.3 <a name="sect-id2255219" 
id="sect-id2255219">Submitting a Job to a Virtual Machine</a></h3>
			<p class="" style="">
			A <tt>&lt;submit_job/&gt;</tt> element is wrapped by an <tt>&lt;iq/&gt;</tt>
 element. The purpose of <tt>&lt;submit_job/&gt;</tt> is to send code 
(i.e. expressions,  statements, instructions) to a virtual machine for 
execution (i.e. evaluation, interpretation). The expression SHOULD be 
respective of the virtual machine's language (i.e. the virtual machine's
 species). If they are not, then evaluation errors SHOULD occur. The 
expression submitted through a <tt>&lt;submit_job/&gt;</tt> stanza can 
be short (e.g. set a variable value, get a variable value) or long (e.g.
 define a class/method, execute a long running body of statements). The 
submitted expression is called a <span class="strong">job</span> in 
Linked Process and is assigned a <tt>job_id</tt> as specified by the <tt>&lt;iq/&gt;</tt>
 <tt>id</tt> attribute value. That is, the staza id of the <tt>&lt;submit_job/&gt;</tt>
 is the job's id.
			</p>
			<ul class="" style="">
			<li class="" style="">Villein generated <tt>&lt;iq type="get"&gt;</tt>
 <tt>&lt;submit_job/&gt;</tt>:</li>
				<ul class="" style="">  
					<li class="" style=""><tt>xmlns</tt> attribute: <tt>http://linkedprocess.org/2009/06/Farm#</tt>.</li>
					<li class="" style=""><tt>vm_id</tt> attribute: the farm-internal 
unique identifier of the virtual machine.</li>
					<li class="" style=""><tt>&lt;submit_job/&gt;</tt> text body: the 
expression for the virtual machine to evaluate. If no text body is 
provided, the expression to be evaluated can be interpreted as a blank 
string or a null expression. The behavior of such an evaluation is up to
 the virtual machine implementation.</li>
				</ul>
			<li class="" style="">Farm generated <tt>&lt;iq type="result"&gt;</tt>
 or <tt>&lt;iq type="error"&gt;</tt> <tt>&lt;submit_job/&gt;</tt>:</li>
				<ul class="" style="">  
					<li class="" style=""><tt>xmlns</tt> attribute: <tt>http://linkedprocess.org/2009/06/Farm#</tt>.</li>
					<li class="" style=""><tt>vm_id</tt> attribute: the farm-internal 
unique identifier of the virtual machine.</li>
					<li class="" style=""><tt>&lt;submit_job/&gt;</tt> text body: the 
result of the expression evaluated.</li>
					<li class="" style="">One of these error conditions MUST be 
provided if <tt>&lt;iq type="error"/&gt;</tt> [<a href="#nt-id2255473">11</a>].</li>
					<ul class="" style="">
						<li class="" style=""><tt>&lt;malformed_packet/&gt;</tt></li> 
						<li class="" style=""><tt>&lt;internal_error/&gt;</tt></li> 
						<li class="" style=""><tt>&lt;evaluation_error/&gt;</tt></li> 
						<li class="" style=""><tt>&lt;permission_denied/&gt;</tt></li> 
						<li class="" style=""><tt>&lt;job_already_exists/&gt;</tt></li> 
						<li class="" style=""><tt>&lt;vm_is_busy/&gt;</tt></li>  
						<li class="" style=""><tt>&lt;vm_not_found/&gt;</tt></li> 
						<li class="" style=""><tt>&lt;job_timed_out/&gt;</tt></li>
						<li class="" style="">if an error occurred, the farm SHOULD 
provide some implementation specific human-readable information 
detailing the error in <tt>&lt;text/&gt;</tt>. Error responses extend 
the requirements set forth by the <a 
href="http://xmpp.org/rfcs/rfc3920.html">Core</a>  XMPP specification.</li>
 
					</ul>
				</ul>
			</ul>
			
<p class="caption"><a name="example-3" id="example-3"></a>Example 3. A 
successful &lt;submit_job/&gt; request.</p><div class="indent"><pre>&lt;iq from="lp1@linkedprocess.org/villein" 
  to="lp2@linkedprocess.org/farm" type="get" id="xxxx"&gt;
  &lt;submit_job xmlns="http://linkedprocess.org/2009/06/Farm#" vm_id="62F4E464"&gt;
    var temp=0;
    for(i=0; i&amp;lt;10; i++) {
      temp = temp + 1;
    }
    temp;
  &lt;/submit_job&gt;
&lt;/iq&gt;

&lt;iq from="lp2@linkedprocess.org/farm" 
  to="lp1@linkedprocess.org/villein" type="result" id="xxxx"&gt;
  &lt;submit_job xmlns="http://linkedprocess.org/2009/06/Farm# vm_id="62F4E464"&gt;
    10
  &lt;submit_job/&gt;
&lt;/iq&gt;
</pre></div>
			<p class="" style="">
			The virtual machine's state exists over the villein's session with 
the virtual machine. Thus, note the result of the following <tt>&lt;submit_job/&gt;</tt>.
			</p>
<p class="caption"><a name="example-4" id="example-4"></a>Example 4. A 
successful &lt;submit_job/&gt; request demonstrating the consistency of a
 virtual machine's state between &lt;submit_job/&gt; requests.</p><div 
class="indent"><pre>&lt;iq from="lp1@linkedprocess.org/villein" 
  to="lp2@linkedprocess.org/farm" type="get" id="yyyy"&gt;
  &lt;submit_job xmlns="http://linkedprocess.org/2009/06/Farm#" vm_id="62F4E464"&gt;
    temp + 1;
  &lt;/submit_job&gt;
&lt;/iq&gt;

&lt;iq from="lp2@linkedprocess.org/farm" 
  to="lp1@linkedprocess.org/villein" type="result" id="yyyy"&gt;
  &lt;submit_job xmlns="http://linkedprocess.org/2009/06/Farm# vm_id="62F4E464"&gt;
    11
  &lt;submit_job/&gt;
&lt;/iq&gt;

</pre></div>
<p class="caption"><a name="example-5" id="example-5"></a>Example 5. An 
unsuccessful &lt;submit_job/&gt; request.</p><div class="indent"><pre>&lt;iq from="lp1@linkedprocess.org/villein"
  to="lp2@linkedprocess.org/farm" type="get" id="zzzz"&gt;
  &lt;submit_job xmlns="http://linkedprocess.org/2009/06/Farm#" vm_id="62F4E464"&gt;
    bad_variable;
  &lt;/submit_job&gt;
&lt;/iq&gt;

&lt;iq from="lp2@linkedprocess.org/farm"
  to="lp1@linkedprocess.org/villein" type="error" id="zzzz"&gt;
  &lt;submit_job xmlns="http://linkedprocess.org/2009/06/Farm#"/&gt;
  &lt;error code="400" type="modify"&gt;
    &lt;bad-request xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"/&gt;
    &lt;evaluation_error xmlns="http://linkedprocess.org/2009/06/Farm#"/&gt;
    &lt;text xmlns="urn:ietf:params:xml:ns:xmpp-stanzas" xml:lang="en"&gt;
      ReferenceError: "bad_variable" is not defined at line number 1
    &lt;/text&gt;  
  &lt;/error&gt;
&lt;/iq&gt;
</pre></div>		
		</div>
		
		<div class="indent"><h3>4.1.4 <a name="sect-id2255656" 
id="sect-id2255656">Determining the Status of a Virtual Machine Job</a></h3>
			<p class="" style="">
			A <tt>&lt;ping_job/&gt;</tt> element is wrapped by an <tt>&lt;iq/&gt;</tt>
 element. The purpose of <tt>&lt;ping_job/&gt;</tt> is to determine the 
status (i.e. progress, state) of a previously submitted <tt>&lt;submit_job/&gt;</tt>
 stanza (i.e. job) that has yet to complete.
			</p>
			<ul class="" style="">
				<li class="" style="">Villein generated <tt>&lt;iq type="get"&gt;</tt>
 <tt>&lt;ping_job/&gt;</tt>:</li>
				<ul class="" style="">
					<li class="" style=""><tt>xmlns</tt> attribute: <tt>http://linkedprocess.org/2009/06/Farm#</tt>.</li>
					<li class="" style=""><tt>vm_id</tt> attribute: the farm-internal 
unique identifier of the virtual machine.</li>
					<li class="" style=""><tt>job_id</tt> attribute: the job identifier
 (the job identifier is the stanza identifier of the respective <tt>&lt;submit_job/&gt;</tt>).</li>
				</ul>
				<li class="" style="">Farm generated <tt>&lt;iq type="result"&gt;</tt>
 or <tt>&lt;iq type="error"&gt;</tt> <tt>&lt;ping_job/&gt;</tt>:</li>
				<ul class="" style="">
					<li class="" style=""><tt>xmlns</tt> attribute: <tt>http://linkedprocess.org/2009/06/Farm#</tt>.</li>
 
					<li class="" style=""><tt>vm_id</tt> attribute: the farm-internal 
unique identifier of the virtual machine.</li>
					<li class="" style=""><tt>status</tt> attribute: the job's status. 
This MUST be provided if <tt>&lt;iq type="result"/&gt;</tt>.</li>
						<ul class="" style="">
							<li class="" style=""><tt>in_progress</tt>: the job is in 
progress.</li>
						</ul>
					<li class="" style=""><tt>job_id</tt> attribute: the job identifier
 for the status being reported.</li>
					<li class="" style="">One of these error conditions MUST be 
provided if <tt>&lt;iq type="error"/&gt;</tt>.</li>
						<ul class="" style="">
							<li class="" style=""><tt>&lt;malformed_packet/&gt;</tt></li>
							<li class="" style=""><tt>&lt;vm_not_found/&gt;</tt></li>
							<li class="" style=""><tt>&lt;internal_error/&gt;</tt></li>
							<li class="" style=""><tt>&lt;job_not_found/&gt;</tt></li>
							<li class="" style="">if an error occurred, the farm SHOULD 
provide some implementation specific human-readable information 
detailing the error in <tt>&lt;text/&gt;</tt>. Error responses extend 
the requirements set forth by the <a 
href="http://xmpp.org/rfcs/rfc3920.html">Core</a>  XMPP specification.</li>
						</ul>
				</ul>
			</ul>
<p class="caption"><a name="example-6" id="example-6"></a>Example 6. A 
successful &lt;ping_job/&gt; request.</p><div class="indent"><pre>&lt;iq from="lp1@linkedprocess.org/villein" 
  to="lp2@linkedprocess.org/farm" type="get" id="xxxx"&gt;
  &lt;ping_job xmlns="http://linkedprocess.org/2009/06/Farm#" vm_id="62F4E464" job_id="yyyy"/&gt;
&lt;/iq&gt;

&lt;iq from="lp2@linkedprocess.org/farm" 
  to="lp1@linkedprocess.org/villein" type="result" id="xxxx"&gt;
  &lt;ping_job xmlns="http://linkedprocess.org/2009/06/Farm#" vm_id="62F4E464" status="in_progress"/&gt;
&lt;/iq&gt;
</pre></div>
		
		</div>
		<div class="indent"><h3>4.1.5 <a name="sect-id2255979" 
id="sect-id2255979">Aborting a Virtual Machine Job</a></h3>
			<p class="" style="">
			An <tt>&lt;abort_job/&gt;</tt> element is wrapped by an <tt>&lt;iq/&gt;</tt>
 element. The purpose of <tt>&lt;abort_job/&gt;</tt> is to cancel (i.e. 
quit, stop, halt) a previously submitted, yet not completed <tt>&lt;submit_job/&gt;</tt>
 stanza (i.e. job).
			</p>
			<ul class="" style="">
				<li class="" style="">Villein generated <tt>&lt;iq type="get"&gt;</tt>
 <tt>&lt;abort_job/&gt;</tt>:</li>
				<ul class="" style="">
					<li class="" style=""><tt>xmlns</tt> attribute: <tt>http://linkedprocess.org/2009/06/Farm#</tt>.</li>
					<li class="" style=""><tt>vm_id</tt> attribute: the farm-internal 
unique identifier of the virtual machine.</li>
					<li class="" style=""><tt>job_id</tt> attribute: the job identifier
 (the job identifier is the stanza identifier of the respective <tt>&lt;submit_job/&gt;</tt>).</li>
				</ul>
	
				<li class="" style="">Farm generated <tt>&lt;iq type="result"&gt;</tt>
 or <tt>&lt;iq type="error"&gt;</tt> <tt>&lt;abort_job/&gt;</tt>:</li>
				<ul class="" style="">
					<li class="" style=""><tt>xmlns</tt> attribute: <tt>http://linkedprocess.org/2009/06/Farm#</tt>.</li>
 
					<li class="" style=""><tt>vm_id</tt> attribute: the farm-internal 
unique identifier of the virtual machine.</li>
					<li class="" style="">One of these error conditions MUST be 
provided if <tt>&lt;iq type="error"/&gt;</tt>.</li>
						<ul class="" style="">
							<li class="" style=""><tt>&lt;malformed_packet/&gt;</tt></li>
							<li class="" style=""><tt>&lt;vm_not_found/&gt;</tt></li>
							<li class="" style=""><tt>&lt;internal_error/&gt;</tt></li>
							<li class="" style=""><tt>&lt;job_not_found/&gt;</tt></li>
							<li class="" style="">if an error occurred, the farm SHOULD 
provide some implementation specific human-readable information 
detailing the error in <tt>&lt;text/&gt;</tt>. Error responses extend 
the requirements set forth by the <a 
href="http://xmpp.org/rfcs/rfc3920.html">Core</a> XMPP specification.</li>
						</ul>
				</ul>
			</ul>
	
<p class="caption"><a name="example-7" id="example-7"></a>Example 7. A 
successful &lt;abort_job/&gt; request.</p><div class="indent"><pre>&lt;iq from="lp1@linkedprocess.org/villein" 
  to="lp2@linkedprocess.org/farm" type="get" id="xxxx"&gt;
  &lt;abort_job xmlns="http://linkedprocess.org/2009/06/Farm#" vm_id="62F4E464" job_id="yyyy"/&gt;
&lt;/iq&gt;

&lt;iq from="lp2@linkedprocess.org/farm" 
  to="lp1@linkedprocess.org/villein" type="result" id="xxxx"&gt;
  &lt;abort_job xmlns="http://linkedprocess.org/2009/06/Farm#" vm_id="62F4E464"/&gt;
&lt;/iq&gt;
</pre></div>
<p class="caption"><a name="example-8" id="example-8"></a>Example 8. An 
unsuccessful &lt;abort_job/&gt; request.</p><div class="indent"><pre>&lt;iq from="lp1@linkedprocess.org/villein" 
  to="lp2@linkedprocess.org/farm" type="get" id="yyyy"&gt;
  &lt;abort_job xmlns="http://linkedprocess.org/2009/06/Farm#" vm_id="62F4E464" job_id="zzzz"/&gt;
&lt;/iq&gt;

&lt;iq from="lp2@linkedprocess.org/farm" 
  to="lp1@linkedprocess.org/villein" type="error" id="yyyy"&gt;
  &lt;abort_job xmlns="http://linkedprocess.org/2009/06/Farm#"/&gt;    
  &lt;error code="404" type="cancel"&gt;
    &lt;item-not-found xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"/&gt;
    &lt;job_not_found xmlns="http://linkedprocess.org/2009/06/Farm#"/&gt;
    &lt;text xmlns="urn:ietf:params:xml:ns:xmpp-stanzas" xml:lang="en"&gt;
      Job 'zzzz' was not found in the virtual machine.
    &lt;/text&gt;  
  &lt;/error&gt; 
&lt;/iq&gt;
</pre></div>
		</div>
		<div class="indent"><h3>4.1.6 <a name="sect-id2256258" 
id="sect-id2256258">Managing Virtual Machine Variable Bindings</a></h3>
			<p class="" style="">
			A <tt>&lt;manage_bindings/&gt;</tt> element is wrapped by an <tt>&lt;iq/&gt;</tt>
 element. The purpose of <tt>&lt;manage_bindings/&gt;</tt> is to allow a
 villein to get and set variables in the variable space of a virtual 
machine. The definition of the "variable space" is up to the 
implementation of the virtual machine. In general, this is the set of 
all global variables for the virtual machine.
			</p>
			<ul class="" style="">
				<li class="" style="">Villein generated <tt>&lt;iq type="get"&gt;</tt>
 or <tt>&lt;iq type="set"&gt;</tt> <tt>&lt;manage_bindings/&gt;</tt>:</li>
					<ul class="" style="">
						<li class="" style=""><tt>xmlns</tt> attribute: <tt>http://linkedprocess.org/2009/06/Farm#</tt></li>
						<li class="" style=""><tt>vm_id</tt> attribute: the farm-internal 
unique identifier of the virtual machine.</li>
						<li class="" style=""><tt>&lt;binding/&gt;</tt> child tag of <tt>&lt;manage_bindings/&gt;</tt>
 for <tt>&lt;iq type="get"/&gt;</tt></li>
							<ul class="" style="">
								<li class="" style=""><tt>name</tt> attribute: the name of the 
variable.</li>
							</ul>
					<li class="" style=""><tt>&lt;binding/&gt;</tt> child tag of <tt>&lt;manage_bindings/&gt;</tt>
 for <tt>&lt;iq type="set"/&gt;</tt></li>
						<ul class="" style="">
							<li class="" style=""><tt>name</tt> attribute: the name of the 
variable.</li>
							<li class="" style=""><tt>value</tt> attribute: the value of the 
variable.</li>
							<li class="" style=""><tt>datatype</tt> attribute: the datatype 
of the variable (specified using <a 
href="http://www.w3.org/TR/xmlschema-2/">XML schema for datatypes</a>).</li>
						 </ul>
					</ul>
				<li class="" style="">Farm generated <tt>&lt;iq type="result"&gt;</tt>
 or <tt>&lt;iq type="error"&gt;</tt> <tt>&lt;manage_bindings/&gt;</tt>:</li>
					<ul class="" style="">
						<li class="" style=""><tt>xmlns</tt> attribute: <tt>http://linkedprocess.org/2009/06/Farm#</tt>.</li>
 
						<li class="" style=""><tt>vm_id</tt> attribute: the farm-internal 
unique identifier of the virtual machine.</li>
						<li class="" style=""><tt>&lt;binding/&gt;</tt> child tag of <tt>&lt;manage_bindings/&gt;</tt>
 for <tt>&lt;iq type="get"/&gt;</tt></li>
							<ul class="" style="">
								<li class="" style=""><tt>name</tt> attribute: the name of the 
variable.</li>
								<li class="" style=""><tt>value</tt> attribute: the value of the
 variable.</li>
							</ul>
						<li class="" style="">One of these error conditions MUST be 
provided if <tt>&lt;iq type="error"/&gt;</tt>.</li>
							<ul class="" style="">
								<li class="" style=""><tt>&lt;malformed_packet/&gt;</tt></li>
								<li class="" style=""><tt>&lt;vm_not_found/&gt;</tt></li>
								<li class="" style=""><tt>&lt;internal_error/&gt;</tt></li>
								<li class="" style=""><tt>&lt;unknown_datatype/&gt;</tt></li>
								<li class="" style=""><tt>&lt;invalid_value/&gt;</tt></li>
								<li class="" style="">if an error occurred, the farm SHOULD 
provide some implementation specific human-readable information 
detailing the error in <tt>&lt;text/&gt;</tt>. Error responses extend 
the requirements set forth by the <a 
href="http://xmpp.org/rfcs/rfc3920.html">Core</a>  XMPP specification.</li>
							</ul>
					</ul>
			</ul>		
<p class="caption"><a name="example-9" id="example-9"></a>Example 9. A 
successful &lt;manage_bindings/&gt; set request.</p><div class="indent"><pre>&lt;iq from="lp1@linkedprocess.org/villein"
  to="lp2@linkedprocess.org/farm" type="set" id="xxxx"&gt;
  &lt;manage_bindings xmlns="http://linkedprocess.org/2009/06/Farm#" vm_id="62F4E464"&gt;
    &lt;binding name="age" value="29" datatype="http://www.w3.org/2001/XMLSchema#integer"/&gt;
    &lt;binding name="name" value="marko" datatype="http://www.w3.org/2001/XMLSchema#string"/&gt;
  &lt;/manage_bindings&gt;
&lt;/iq&gt;

&lt;iq from="lp2@linkedprocess.org/farm" 
  to="lp1@linkedprocess.org/villein" type="result" id="xxxx"&gt;
  &lt;manage_bindings xmlns="http://linkedprocess.org/2009/06/Farm#" vm_id="62F4E464"/&gt;
&lt;/iq&gt;
	</pre></div>
<p class="caption"><a name="example-10" id="example-10"></a>Example 10. A
 successful &lt;manage_bindings/&gt; get request.</p><div class="indent"><pre>&lt;iq from="lp1@linkedprocess.org/villein" 
  to="lp2@linkedprocess.org/farm" type="get" id="yyyy"&gt;
  &lt;manage_bindings xmlns="http://linkedprocess.org/2009/06/Farm#" vm_id="62F4E464"&gt;
    &lt;binding name="age"/&gt;
    &lt;binding name="name"/&gt;
  &lt;/manage_bindings&gt;
&lt;/iq&gt;

&lt;iq from="lp2@linkedprocess.org/farm" 
  to="lp1@linkedprocess.org/villein" type="result" id="yyyy"&gt;
  &lt;manage_bindings xmlns="http://linkedprocess.org/2009/06/Farm#" vm_id="62F4E464"&gt;
    &lt;binding name="age" value="29" datatype="http://www.w3.org/2001/XMLSchema#integer"/&gt;
    &lt;binding name="name" value="marko" datatype="http://www.w3.org/2001/XMLSchema#string"/&gt;
  &lt;/manage_bindings&gt;
&lt;/iq&gt;
</pre></div>
			<p class="" style="">
			After the previous <tt>&lt;manage_bindings/&gt;</tt> stanza has been 
processed by the virtual machine, it is possible to use the bindings in a
 statement. For example, in JavaScript
		
			</p><p class="caption"></p><div class="indent"><pre>var fact = name + " knows josh and peter";</pre></div>
		
			will set <tt>fact</tt> to the value "marko knows josh and peter" as 
well as make it an accessible binding.
			
<p class="caption"><a name="example-11" id="example-11"></a>Example 11. A
 successful &lt;manage_bindings/&gt; get request.</p><div class="indent"><pre>&lt;iq from="lp1@linkedprocess.org/villein" 
  to="lp2@linkedprocess.org/farm" type="get" id="zzzz"&gt;
  &lt;manage_bindings xmlns="http://linkedprocess.org/2009/06/Farm#" vm_id="62F4E464"&gt;
    &lt;binding name="fact"/&gt;
  &lt;/manage_bindings&gt;
&lt;/iq&gt;

&lt;iq from="lp2@linkedprocess.org/farm" 
  to="lp1@linkedprocess.org/villein" type="result" id="zzzz"&gt;
  &lt;manage_bindings xmlns="http://linkedprocess.org/2009/06/Farm#" vm_id="62F4E464"&gt;
    &lt;binding name="fact" value="marko knows josh and peter" 
      datatype="http://www.w3.org/2001/XMLSchema#string"/&gt;
  &lt;/manage_bindings&gt;
&lt;/iq&gt;
</pre></div>
			<p class="" style="">
			A useful aspect of <tt>&lt;manage_bindings/&gt;</tt> is that it can 
be used to track the state of a variable during the execution of a job. 
For example, suppose the following job is submitted to a JavaScript 
virtual machine.</p><p class="caption"></p><div class="indent"><pre>var x = 1.0;
while(true) {
  x = x + 0.0001;
}</pre></div>
			This job will continue indefinitely (or until it is timed out by the 
virtual machine). However, during its execution, it is possible to 
determine the current state of <tt>x</tt> using <tt>&lt;manage_bindings/&gt;</tt>.
 Each get-based <tt>&lt;manage_bindings/&gt;</tt> call should return a 
larger <tt>x</tt> value. 
			
		</div>
		<div class="indent"><h3>4.1.7 <a name="sect-id2256828" 
id="sect-id2256828">Terminating a Virtual Machine</a></h3>
			<p class="" style="">
			A <tt>&lt;terminate_vm/&gt;</tt> element is wrapped by an <tt>&lt;iq/&gt;</tt>
 element. The purpose of a <tt>&lt;terminate_vm/&gt;</tt> is to shutdown
 (i.e. quit, exit, halt) the virtual machine. Upon termination, the 
virtual machine will lose its state and will no longer be able to be 
communicated with.
			</p>
			<ul class="" style="">
			<li class="" style="">Villein generated <tt>&lt;iq type="get"&gt;</tt>
 <tt>&lt;terminate_vm/&gt;</tt>:</li>
				<ul class="" style="">
					<li class="" style=""><tt>xmlns</tt> attribute: <tt>http://linkedprocess.org/2009/06/Farm#</tt>.</li>
 
					<li class="" style=""><tt>vm_id</tt> attribute: the farm-internal 
unique identifier of the virtual machine.</li>
				</ul>
			<li class="" style="">Farm generated <tt>&lt;iq type="result"&gt;</tt>
 or <tt>&lt;iq type="error"&gt;</tt> <tt>&lt;terminate_vm/&gt;</tt>:</li>
				<ul class="" style="">
					<li class="" style=""><tt>xmlns</tt> attribute: <tt>http://linkedprocess.org/2009/06/Farm#</tt>.</li>
 
					<li class="" style=""><tt>vm_id</tt> attribute: the farm-internal 
unique identifier of the virtual machine.</li>
					<li class="" style="">One of these error conditions MUST be 
provided if <tt>&lt;iq type="error"/&gt;</tt>.</li>
						<ul class="" style="">
							<li class="" style=""><tt>&lt;malformed_packet/&gt;</tt></li>
							<li class="" style=""><tt>&lt;vm_not_found/&gt;</tt></li>
							<li class="" style=""><tt>&lt;internal_error/&gt;</tt></li>
							<li class="" style="">if an error occurred, the farm SHOULD 
provide some implementation specific human-readable information 
detailing the error in <tt>&lt;text/&gt;</tt>. Error responses extend 
the requirements set forth by the <a 
href="http://xmpp.org/rfcs/rfc3920.html">Core</a>  XMPP specification.</li>
						</ul>
				</ul>
			</ul>
<p class="caption"><a name="example-12" id="example-12"></a>Example 12. A
 successful &lt;terminate_vm/&gt; request.</p><div class="indent"><pre>&lt;iq from="lp1@linkedprocess.org/LoPVillein/EFGH" 
  to="lp2@linkedprocess.org/farm" type="get" id="xxxx"&gt;
  &lt;terminate_vm xmlns="http://linkedprocess.org/2009/06/Farm#" vm_id="62F4E464"/&gt;
&lt;/iq&gt;

&lt;iq from="lp2@linkedprocess.org/farm" 
  to="lp1@linkedprocess.org/villein" type="result" id="xxxx"&gt;
  &lt;terminate_vm xmlns="http://linkedprocess.org/2009/06/Farm#" vm_id="62F4E464"/&gt;
&lt;/iq&gt;
</pre></div>
		</div>
		<div class="indent"><h3>4.1.8 <a name="sect-id2257047" 
id="sect-id2257047">Discovering Information About a Farm</a></h3>
			<p class="" style="">
			A farm uses the <a href="http://xmpp.org/extensions/xep-0030.html">XEP-0030</a>
 XMPP extension for allowing villeins to discover what features and 
permissions a farm and its spawned virtual machines support.
			</p>
			<p class="" style="">
			The <tt>&lt;identity/&gt;</tt> of a farm MUST be of <tt>category="client"</tt>
 and <tt>type="bot"</tt>. The <tt>name</tt> attribute is up to the 
implementation.
			</p>
			<ul class="" style="">
				<li class="" style=""><tt>&lt;identity category="client" 
name="LoPFarm" type="bot"/&gt;</tt></li>
			</ul>
			<p class="" style="">
			The following <tt>&lt;feature/&gt;</tt>s MUST be supported by a farm:
			</p>
			<ul class="" style="">
				<li class="" style=""><tt>&lt;feature 
var="http://jabber.org/protocol/disco#info"/&gt;</tt></li>
				<li class="" style=""><tt>&lt;feature 
var="http://linkedprocess.org/2009/06/Farm#"/&gt;</tt></li> 
			</ul>
			<p class="" style="">
			The <tt>http://linkedprocess.org/2009/06/Farm#</tt> <tt>&lt;feature/&gt;</tt>
 denotes that the XMPP client is in fact a farm.
			</p>
			<p class="" style="">
			For presenting permissions, configurations, and statistics, a farm 
uses the data forms <a href="http://xmpp.org/extensions/xep-0004.html">XEP-0004</a>
 XMPP extension in its <tt>disco#info</tt> response. The following list 
of <tt>&lt;field/&gt;</tt> variables (<tt>var</tt>) are presented below 
with their requirements specification. What is published by the farm's 
data form MUST be what is implemented by the farm and its spawned 
virtual machines. In other words, the data form MUST be consistent with 
the behavior of the farm and the virtual machines [<a 
href="#nt-id2257210">12</a>]. 
			</p>
			<div class="indent"><p class="caption"><a name="table-1" id="table-1"></a>Table
 1: Fields of the data forms for the disco#info of a farm.</p><table 
border="1" cellpadding="3" cellspacing="0">
			  <tbody><tr class="body">
				<th colspan="" rowspan="">Field</th>
				<th colspan="" rowspan="">Type</th>
				<th colspan="" rowspan="">Option</th>
				<th colspan="" rowspan="">Status</th>
				<th colspan="" rowspan="">Label</th>
			  </tr>
			  <tr class="body">
				<td colspan="" rowspan="">farm_password</td>
				<td colspan="" rowspan="">boolean</td>
				<td colspan="" rowspan="">false</td>
				<td colspan="" rowspan="">REQUIRED</td>
				<td colspan="" rowspan="">Denotes whether a password is required to 
spawn virtual machines.</td>
			  </tr>
			  <tr class="body">
			  	<td colspan="" rowspan="">ip_address</td>
				<td colspan="" rowspan="">list-single</td>
				<td colspan="" rowspan="">false</td>
				<td colspan="" rowspan="">RECOMMENDED</td>
				<td colspan="" rowspan="">The IP address of the device hosting the 
farm.</td>
			  </tr>
			  <tr class="body">
				<td colspan="" rowspan="">vm_species</td>
				<td colspan="" rowspan="">list-single</td>
				<td colspan="" rowspan="">true</td>
				<td colspan="" rowspan="">REQUIRED</td>
				<td colspan="" rowspan="">The virtual machine species supported by 
the farm.</td>
			  </tr>
			  <tr class="body">
				<td colspan="" rowspan="">vm_time_to_live</td>
				<td colspan="" rowspan="">list-single</td>
				<td colspan="" rowspan="">false</td>
				<td colspan="" rowspan="">REQUIRED</td>
				<td colspan="" rowspan="">The number of milliseconds for which a 
virtual machine may exist before it is terminated by the farm. A value 
of -1 means infinite.</td>
			  </tr>
			  <tr class="body">
				<td colspan="" rowspan="">job_timeout</td>
				<td colspan="" rowspan="">text-single</td>
				<td colspan="" rowspan="">false</td>
				<td colspan="" rowspan="">REQUIRED</td>
				<td colspan="" rowspan="">The number of milliseconds for which a 
virtual machine may exist before it is terminated by the farm. A value 
of -1 means infinite.</td>
			  </tr>
			  <tr class="body">
				<td colspan="" rowspan="">job_queue_capacity</td>
				<td colspan="" rowspan="">text-single</td>
				<td colspan="" rowspan="">false</td>
				<td colspan="" rowspan="">RECOMMENDED</td>
				<td colspan="" rowspan="">The number of jobs which a virtual machine
 can hold in its queue before it rejects requests to submit additional 
jobs. A value of -1 means infinite.</td>
			  </tr>
			  <tr class="body">
				<td colspan="" rowspan="">max_concurrent_vms</td>
				<td colspan="" rowspan="">text-single</td>
				<td colspan="" rowspan="">false</td>
				<td colspan="" rowspan="">RECOMMENDED</td>
				<td colspan="" rowspan="">The number of concurrent virtual machines 
which the farm can support before it rejects a request to spawn a new 
virtual machine. A value of -1 means infinite.</td>
			  </tr>
			  <tr class="body">
				<td colspan="" rowspan="">farm_start_time</td>
				<td colspan="" rowspan="">text-single</td>
				<td colspan="" rowspan="">false</td>
				<td colspan="" rowspan="">RECOMMENDED</td>
				<td colspan="" rowspan="">The <tt>xs:dateTime</tt> at which this 
farm was started.</td>
			  </tr>
			  <tr class="body">
				<td colspan="" rowspan="">read_file</td>
				<td colspan="" rowspan="">list-multi</td>
				<td colspan="" rowspan="">false</td>
				<td colspan="" rowspan="">RECOMMENDED</td>
				<td colspan="" rowspan="">The directories/files that virtual 
machine's have read access to.</td>
			  </tr>
			  <tr class="body">
				<td colspan="" rowspan="">write_file</td>
				<td colspan="" rowspan="">list-multi</td>
				<td colspan="" rowspan="">false</td>
				<td colspan="" rowspan="">RECOMMENDED</td>
				<td colspan="" rowspan="">The directories/files that virtual 
machine's have write access to.</td>
			  </tr>
			  <tr class="body">
				<td colspan="" rowspan="">delete_file</td>
				<td colspan="" rowspan="">list-multi</td>
				<td colspan="" rowspan="">false</td>
				<td colspan="" rowspan="">RECOMMENDED</td>
				<td colspan="" rowspan="">The directories/files that virtual 
machine's have delete access to.</td>
			  </tr>
			  <tr class="body">
				<td colspan="" rowspan="">open_connection</td>
				<td colspan="" rowspan="">boolean</td>
				<td colspan="" rowspan="">false</td>
				<td colspan="" rowspan="">RECOMMENDED</td>
				<td colspan="" rowspan="">Whether a socket connection is allowed by 
the virtual machine.</td>
			  </tr>
			  <tr class="body">
				<td colspan="" rowspan="">listen_for_connection</td>
				<td colspan="" rowspan="">boolean</td>
				<td colspan="" rowspan="">false</td>
				<td colspan="" rowspan="">RECOMMENDED</td>
				<td colspan="" rowspan="">Whether a socket connection can be 
listened for by the virtual machines.</td>
			  </tr>
			  <tr class="body">
				<td colspan="" rowspan="">accept_connection</td>
				<td colspan="" rowspan="">boolean</td>
				<td colspan="" rowspan="">false</td>
				<td colspan="" rowspan="">RECOMMENDED</td>
				<td colspan="" rowspan="">Whether a socket connection can be 
accepted by the virtual machines.</td>
			  </tr>
			  <tr class="body">
				<td colspan="" rowspan="">perform_multicast</td>
				<td colspan="" rowspan="">boolean</td>
				<td colspan="" rowspan="">false</td>
				<td colspan="" rowspan="">RECOMMENDED</td>
				<td colspan="" rowspan="">Whether an IP multicast can be initiated 
by the virtual machines.</td>
			  </tr>
			</tbody></table></div>
		</div>
		<div class="indent"><h3>4.1.9 <a name="sect-id2257950" 
id="sect-id2257950">General Farm Use Cases</a></h3>
			<p class="" style="">
			The previously defined interactions can be used in concert to perform
 some distributed computing task. A list of general use cases are 
presented below.
			</p>
			<ul class="" style="">
				<li class="" style=""><span class="strong">Parallel algorithm 
execution</span> [consuming clock cycle resources]: parallel algorithms 
can be designed to exploit a Linked Process cloud. By making use of 
multiple physical devices for the execution of a parallel algorithm, it 
is possible to speedup the execution of the algorithm with respect to 
its serial representation. There are many algorithms of this class 
ranging in application areas from image processing, matrix operations, 
physics simulators, etc.</li>
				<li class="" style=""><span class="strong">Distributed data 
processing</span> [consuming data set resources]: with the proflic 
growth of online data in various repositories such as relational 
databases, graph databases, file repositories, etc. being able to make 
use of that data in ways not necessarily intended by the publishers of 
such data is becoming a necessary. Currently, such data is either 
migrated to the processing device or repeatedly queried over the 
Internet. With Linked Process it is possible to avoid the "over the 
wire" costs of migrating large amounts of data and queries by moving the
 code to the source of the data. In other words, with Linked Process it 
is possible to move the process to the data, not the data to the 
process.</li>
			</ul>
			<p class="" style="">
			The previous list has a collection of more specific application 
scenarios that are itemized below. Please note that this list is not 
intended to be exhaustive and provides points of inspiration for the 
development of more use cases for Linked Process.
			</p>
			<ul class="" style="">
				<li class="" style=""><span class="strong">Small device acceleration</span>
 [consuming clock cycle resources]: with the growing use of small 
Internet-enabled devices such as mobile/cell phones, it is possible for 
such devices to make use of the computing power offered by a Linked 
Process cloud. Thus, while a small device may be limited in its 
processing power, other devices in a Linked Process cloud can support 
the small device's computing needs. This becomes increasingly important 
as cell phone cameras are being used in applications that require 
computationally expensive image processing algorithms.</li>
				<li class="" style=""><span class="strong">Cell phone resources 
allocation</span> [consuming hardware component resources]: 
Internet-enabled cell phones with  computing resources such as cameras 
and Global Positioning Systems (GPS) make it possible to provide these 
resources in a Linked Process cloud. It is possible to develop villeins 
that locate phones with particular qualities (e.g. a particular position
 in space and an accessible camera) and leverage large numbers of such 
devices for a computation (e.g. massive imaging of an area).</li>
				<li class="" style=""><span class="strong">Spreadable applications</span>
 [consuming software API resources]: the current design paradigm in 
online services such as the increasingly popular "social" services is to
 have a centralized server that maintains all the data of its users. 
These services also provide various methods to make use of such data 
(e.g. search, recommendation, message passing). With the ability to 
migrate code between physical devices, it is possible to create similar 
services that are not centralized, but instead distributed in a more 
peer-to-peer manner.</li>
				<li class="" style=""><span class="strong">Simulated remote 
procedure call</span> [consuming software API resources]: Linked Process
 allows for lower-level control of the resources provided by a resource 
provider. However, with software APIs being a computing resource, it is 
possible for resource providers to support high-level functions/methods 
for manipulating resources in the way of accessible 
APIs/packages/libraries. In this way, RPC-based models of distributed 
computing can be simulated.</li>
			</ul>
		</div>
		
	</div>
	<div class="indent"><h3>4.2 <a name="sect-id2258111" 
id="sect-id2258111">Registry Use Cases</a></h3>
		<p class="" style="">
		This is the list of the stanzas that MUST be supported by a registry.
		</p>
		<ul class="" style="">
			<li class="" style=""><tt>&lt;presence/&gt;</tt>: for denoting 
presence status and for managing subscriptions.</li>
			<li class="" style=""><tt>disco#items</tt>: for discovering 
countrysides with active farms.</li>
			<li class="" style=""><tt>disco#info</tt>: for discovering the 
features of a registry.</li>
		</ul>
		<div class="indent"><h3>4.2.1 <a name="sect-id2258169" 
id="sect-id2258169">Rules Regarding Registry Presence</a></h3>
			<p class="" style="">
			A registry makes use of <tt>&lt;presence/&gt;</tt> stanzas for 
determining the availability of farms on a countryside. In order to 
monitor <tt>&lt;presence/&gt;</tt> stanzas emanating from a countryside,
 a countryside MUST subscribe to and be subscribed from a registry. In <a
 href="http://xmpp.org/rfcs/rfc3921.html">Instant Messaging</a>, this is
 handled using this sequence of <tt>&lt;presence/&gt;</tt> 
communication.
			</p>
<p class="caption"><a name="example-13" id="example-13"></a>Example 13. A
 successful subscription with a registry</p><div class="indent"><pre>&lt;presence from="lp2@linkedprocess.org/farm" 
  to="lp3@linkedprocess.org/registry" type="subscribe"/&gt;
					
&lt;presence to="lp2@linkedprocess.org/farm" 
  from="lp3@linkedprocess.org/registry" type="subscribed"/&gt;
					
&lt;presence to="lp2@linkedprocess.org/farm" 
  from="lp3@linkedprocess.org/registry" type="subscribe"/&gt;
					
&lt;presence from="lp2@linkedprocess.org/farm" 
  to="lp3@linkedprocess.org/registry" type="subscribed"/&gt;

</pre></div>
			<p class="" style="">
			After a subscription pairing has been established, the registry will 
then monitor all <tt>&lt;presence/&gt;</tt> stanza emanating from the 
countryside of the subscribing XMPP client. When a registry receives a <tt>&lt;presence
 type="available"/&gt;</tt> stanza from a farm (determined through <tt>disco#info</tt>),
 then the registry will add the countryside (the bare JID of the farm) 
to its index. When the registry receives a <tt>&lt;presence 
type="unavailable"/&gt;</tt> stanza from a farm, it will only remove 
that farm's countryside from its index if no other active farms are 
available at that countryside. In short, a registry only publishes 
countrysides (i.e. bare JIDs), not farms (i.e. fully-qualified JIDs). 
However, the determinant for publishing countrysides is the availability
 of active farms based off the bare JID countryside.
			</p>
		</div>
		<div class="indent"><h3>4.2.2 <a name="sect-id2258265" 
id="sect-id2258265">Locating Countrysides with Farms</a></h3>
			<p class="" style="">
			A registry uses the <a 
href="http://xmpp.org/extensions/xep-0030.html">XEP-0030</a> XMPP 
extension as the communication protocol for publishing farm-active 
countrysides. The registry's index is provided to any XMPP client 
performing a <tt>disco#info</tt> query. The <tt>&lt;item/&gt;</tt> 
elements denote countrysides. For example, <tt>&lt;item 
jid="lanl_countryside@lanl.linkedprocess.org"/&gt;</tt> denotes that 
there is at least one active farm at <tt> 
lanl_countryside@lanl.linkedprocess.org</tt>.
			</p>
<p class="caption"><a name="example-14" id="example-14"></a>Example 14. A
 successful query for countrysides registered with a registry.</p><div 
class="indent"><pre>&lt;iq id="xxxx" to="lp3@linkedprocess.org/registry" 
  from="lp1@linkedprocess.org/villein" type="get"&gt;
  &lt;query xmlns="http://jabber.org/protocol/disco#items"/&gt;
&lt;/iq&gt;

&lt;iq id="xxxx" from="lp3@linkedprocess.org/registry" 
  to="lp1@linkedprocess.org/villein" type="result"&gt;
  &lt;query xmlns="http://jabber.org/protocol/disco#items"&gt;
    &lt;item jid="lanl_countryside@lanl.linkedprocess.org"/&gt;
    &lt;item jid="fortytwo_countryside@fortytwo.linkedprocess.org"/&gt;
    &lt;item jid="sweden_countryside@fortytwo.linkedprocess.org"/&gt;
  &lt;/query&gt;
&lt;/iq&gt;

</pre></div>
		</div>
		<div class="indent"><h3>4.2.3 <a name="sect-id2258314" 
id="sect-id2258314">Discovering Information About a Registry</a></h3>
			<p class="" style="">
			A registry uses the <a 
href="http://xmpp.org/extensions/xep-0030.html">XEP-0030</a> XMPP 
extension for allowing villeins to discover what features a registry 
supports.
			</p>
			<p class="" style="">
			The <tt>&lt;identity/&gt;</tt> of a registry MUST be of <tt>category="client"</tt>
 and <tt>type="bot"</tt>. The <tt>name</tt> attribute is up to the 
implementation.
			</p>
			<ul class="" style="">
			  <li class="" style=""><tt>&lt;identity category="client" 
name="LoPRegistry" type="bot"/&gt;</tt></li> 
			</ul>
			<p class="" style="">
			The following <tt>&lt;feature/&gt;</tt>s MUST be supported by a 
registry:
			</p>
			<ul class="" style="">
				<li class="" style=""><tt>&lt;feature 
var="http://jabber.org/protocol/disco#info"/&gt;</tt></li>
				<li class="" style=""><tt>&lt;feature 
var="http://jabber.org/protocol/disco#items"/&gt;</tt></li>
				<li class="" style=""><tt>&lt;feature 
var="http://linkedprocess.org/2009/06/Registry#"/&gt;</tt></li>
			</ul>
			<p class="" style="">
			The <tt>http://linkedprocess.org/2009/06/Registry#</tt> <tt>&lt;feature/&gt;</tt>
 denotes that the XMPP client is in fact a registry.
			</p>
		</div>
	</div>
<h2>5.
       <a name="errors" id="errors">Error Codes</a></h2>
  <div class="indent"><h3>5.1 <a name="sect-id2258484" 
id="sect-id2258484">Farm Error Codes</a></h3>
  	<p class="" style="">
  	The error codes associated with the <tt>http://linkedprocess.org/2009/06/Farm#</tt>
 namespace are fairly complicated as there are various states that a 
farm and its virtual machines can be in. The following error codes are 
summarized in the table below. For detailed information about mapping 
legacy error codes to XMPP-style error types and conditions, refer to <a
 href="http://xmpp.org/extensions/xep-0086.html">Error Condition 
Mappings</a>. Implementations SHOULD support both legacy and XMPP error 
handling.
	</p>
	  <div class="indent"><p class="caption"><a name="table-2" id="table-2"></a>Table
 2: Error codes for http://linkedprocess.org/2009/06/Farm# namespace.</p><table
 border="1" cellpadding="3" cellspacing="0">
		  <tbody><tr class="body">
			<th colspan="" rowspan="">Code</th>
			<th colspan="" rowspan="">Type</th>
			<th colspan="" rowspan="">Condition</th>
			<th colspan="" rowspan="">Specific</th>
			<th colspan="" rowspan="">Element</th>
			<th colspan="" rowspan="">Purpose</th>
		  </tr>
		  <tr class="body">
			<td colspan="" rowspan="">400</td>
			<td colspan="" rowspan="">Modify</td>
			<td colspan="" rowspan="">bad-request</td>
			<td colspan="" rowspan="">malformed_packet</td>
			<td colspan="" rowspan="">all</td>
			<td colspan="" rowspan="">The provided stanza was not properly 
constructed.</td>
		  </tr>
		  <tr class="body">
			<td colspan="" rowspan="">401</td>
			<td colspan="" rowspan="">Auth</td>
			<td colspan="" rowspan="">not-authorized</td>
			<td colspan="" rowspan="">wrong_farm_password</td>
			<td colspan="" rowspan="">spawn_vm</td>
			<td colspan="" rowspan="">The supplied farm password was incorrect.</td>
		  </tr>
		  <tr class="body">
			<td colspan="" rowspan="">409</td>
			<td colspan="" rowspan="">Cancel</td>
			<td colspan="" rowspan="">conflict</td>
			<td colspan="" rowspan="">internal_error</td>
			<td colspan="" rowspan="">all</td>
			<td colspan="" rowspan="">An error internal to the farm has occurred.</td>
		  </tr>
		  <tr class="body">
			<td colspan="" rowspan="">503</td>
			<td colspan="" rowspan="">Cancel</td>
			<td colspan="" rowspan="">service-unavailable</td>
			<td colspan="" rowspan="">farm_is_busy</td>
			<td colspan="" rowspan="">spawn_vm</td>
			<td colspan="" rowspan="">The farm is out of resources and can not 
spawn a new virtual machine.</td>
		  </tr>
		  <tr class="body">
			<td colspan="" rowspan="">400</td>
			<td colspan="" rowspan="">Modify</td>
			<td colspan="" rowspan="">bad-request</td>
			<td colspan="" rowspan="">species_not_supported</td>
			<td colspan="" rowspan="">spawn_vm</td>
			<td colspan="" rowspan="">The provided virtual machine species is not
 supported by the farm.</td>
		  </tr>
		  <tr class="body">
			<td colspan="" rowspan="">404</td>
			<td colspan="" rowspan="">Cancel</td>
			<td colspan="" rowspan="">item-not-found</td>
			<td colspan="" rowspan="">vm_not_found</td>
			<td colspan="" rowspan="">all except spawn_vm</td>
			<td colspan="" rowspan="">The virtual machine id does not point to an
 existing virtual machine.</td>
		  </tr>
		  <tr class="body">
			<td colspan="" rowspan="">503</td>
			<td colspan="" rowspan="">Cancel</td>
			<td colspan="" rowspan="">service-unavailable</td>
			<td colspan="" rowspan="">vm_is_busy</td>
			<td colspan="" rowspan="">submit_job</td>
			<td colspan="" rowspan="">The virtual machine has too many jobs in 
its queue and will not accept anymore.</td>
		  </tr>
		  <tr class="body">
			<td colspan="" rowspan="">400</td>
			<td colspan="" rowspan="">Modify</td>
			<td colspan="" rowspan="">bad-request</td>
			<td colspan="" rowspan="">evaluation_error</td>
			<td colspan="" rowspan="">submit_job</td>
			<td colspan="" rowspan="">The supplied job expression threw an error 
in the virtual machine.</td>
		  </tr>
		  <tr class="body">
			<td colspan="" rowspan="">403</td>
			<td colspan="" rowspan="">Auth</td>
			<td colspan="" rowspan="">forbidden</td>
			<td colspan="" rowspan="">permission_denied</td>
			<td colspan="" rowspan="">submit_job</td>
			<td colspan="" rowspan="">The supplied job expression violated a 
security permission in the virtual machine.</td>
		  </tr>
		  <tr class="body">
			<td colspan="" rowspan="">409</td>
			<td colspan="" rowspan="">Cancel</td>
			<td colspan="" rowspan="">conflict</td>
			<td colspan="" rowspan="">job_already_exists</td>
			<td colspan="" rowspan="">submit_job</td>
			<td colspan="" rowspan="">The supplied job identifier already exists 
in the virtual machine.</td>
		  </tr>
		  <tr class="body">
			<td colspan="" rowspan="">408</td>
			<td colspan="" rowspan="">Cancel</td>
			<td colspan="" rowspan="">request-timed-out</td>
			<td colspan="" rowspan="">job_timed_out</td>
			<td colspan="" rowspan="">submit_job</td>
			<td colspan="" rowspan="">The submitted job timeout and is no longer 
executing.</td>
		  </tr>
		  <tr class="body">
			<td colspan="" rowspan="">404</td>
			<td colspan="" rowspan="">Cancel</td>
			<td colspan="" rowspan="">item-not-found</td>
			<td colspan="" rowspan="">job_not_found</td>
			<td colspan="" rowspan="">ping_job and abort_job</td>
			<td colspan="" rowspan="">The queried job identifier does not point 
to an existing job.</td>
		  </tr>
		  <tr class="body">
			<td colspan="" rowspan="">405</td>
			<td colspan="" rowspan="">Cancel</td>
			<td colspan="" rowspan="">not-allowed</td>
			<td colspan="" rowspan="">job_aborted</td>
			<td colspan="" rowspan="">submit_job</td>
			<td colspan="" rowspan="">The submitted job was canceled.</td>
		  </tr>
		  <tr class="body">
			<td colspan="" rowspan="">400</td>
			<td colspan="" rowspan="">Modify</td>
			<td colspan="" rowspan="">bad-request</td>
			<td colspan="" rowspan="">unknown_datatype</td>
			<td colspan="" rowspan="">manage_bindings</td>
			<td colspan="" rowspan="">The provided datatype is an unsupported 
datatype.</td>
		  </tr>
		  <tr class="body">
			<td colspan="" rowspan="">400</td>
			<td colspan="" rowspan="">Modify</td>
			<td colspan="" rowspan="">bad-request</td>
			<td colspan="" rowspan="">invalid_value</td>
			<td colspan="" rowspan="">manage_bindings</td>
			<td colspan="" rowspan="">The provided value can not be converted 
according to the provided datatype.</td>
		  </tr>
		</tbody></table></div>
		<p class="" style="">
		This specification does not stipulate values of the XMPP <tt>&lt;text/&gt;</tt>
 element associated with the foregoing error conditions.
		</p>
  </div>
<h2>6.
       <a name="security" id="security">Security Considerations</a></h2>
	<p class="" style="">
	Linked Process can be a very dangerous protocol if implemented 
incorrectly. The reason for this is that foreign code is executed on 
devices that are unaware of the intention or purpose of the code. Thus, 
if farm and virtual machine implementations do not correctly respect the
 permissions stated by the farm (as specified in the <tt>disco#info</tt>
 of the farm), then it is possible for malicious or poorly written code 
to destroy the integrity of the executing device (i.e. the resource 
provider). Moreover, Linked Process devices can be utilized for 
nefarious purposes.
	</p>
	<p class="" style="">
	The following is a list of potentially dangerous behaviors that can be 
executed if a Linked Process farm and virtual machine is not implemented
 correctly and/or exposes permission that are too "loose."
	</p>
		<ul class="" style="">
			<li class="" style=""><span class="strong">file system corruption</span>:
 if the disk I/O permissions are not implelemented correctly or not 
strongly specified, then the disk of the device can be compromised.</li>
			<li class="" style=""><span class="strong">private files access</span>:
 if the disco I/O permissions are not implemented correctly or not 
strongly specified, then potentially private information on the disk of 
the device can be accessed.</li>
			<li class="" style=""><span class="strong">inappropriate access to 
resources</span>: if the permissions are not implemented correctly or 
not strongly specified, it is possible for villeins to gain access to 
undesired devices such as printers, windowing toolkits, cameras, etc.</li>
 
			<li class="" style=""><span class="strong">denial of service attacks</span>:
 if the network I/O permissions are not implemented or strongly 
specified, then the device can be harvested for a denial of service 
(DoS) attack on other devices on the Internet.</li>
			<li class="" style=""><span class="strong">Linked Process denial of 
service attacks</span>: if the scheduler (i.e. thread operating system) 
of the farm is not implemented correctly, then it is possible for a farm
 to be overloaded by a single virtual machine rendering the farm useless
 to the creation of new virtual machines.</li>
		</ul>
	<p class="" style="">
	It is strongly RECOMMENDED that the implementors of a Linked Process 
farm and virtual machine have considerable knowledge in the area of 
software security and operating system engineering.
	</p>
<h2>7.
       <a name="iana" id="iana">IANA Considerations</a></h2>
<p class="" style="">
	This document requires no interaction with the <a 
href="http://www.iana.org/">Internet Assigned Numbers Authority (IANA)</a>
</p>
<h2>8.
       <a name="registrar" id="registrar">XMPP Registrar Considerations</a></h2>
  The following namespaces are defined by Linked Process:
  <ul class="" style="">
  	<li class="" style=""><tt>http://linkedprocess.org/2006/06/Farm#</tt></li>
	<li class="" style=""><tt>http://linkedprocess.org/2006/06/Registry#</tt></li>
  </ul>
  
<h2>9.
       <a name="schema" id="schema">XML Schema</a></h2>
<p class="caption"></p><div class="indent"><pre>&lt;?xml version='1.0' encoding='UTF-8'?&gt;

&lt;xs:schema
  xmlns:xs='http://www.w3.org/2001/XMLSchema'
  targetNamespace='http://linkedprocess.org/2006/06/Farm#'
  xmlns='http://linkedprocess.org/2006/06/Farm#'
  elementFormDefault='qualified'&gt;

  &lt;xs:annotation&gt;
    &lt;xs:documentation&gt;
      The protocol documented by this schema is defined in
      Linked Process XEP-XXX: http://www.xmpp.org/extensions/xep-xxx.html
    &lt;/xs:documentation&gt;
  &lt;/xs:annotation&gt;

  &lt;xs:element name='spawn_vm'&gt;
    &lt;xs:complexType&gt;
      &lt;xs:attribute name='vm_species' type='xs:string' use='required'/&gt;
      &lt;xs:attribute name='farm_password' type='xs:string' use='optional'/&gt;
      &lt;xs:attribute name='vm_id' type='xs:string' use='optional'/&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  
  &lt;xs:element name='submit_job'&gt;
    &lt;xs:complexType&gt;
      &lt;xs:attribute name='vm_id' type='xs:string' use='required'/&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  
  &lt;xs:element name='ping_job'&gt;
    &lt;xs:complexType&gt;
      &lt;xs:attribute name='vm_id' type='xs:string' use='required'/&gt;
      &lt;xs:attribute name='job_id' type='xs:string' use='optional'/&gt;
      &lt;xs:attribute name='type' use='optional'&gt;
        &lt;xs:simpleType&gt;
          &lt;xs:restriction base='xs:NCName'&gt;
            &lt;xs:enumeration value='in_progress'/&gt;
          &lt;/xs:restriction&gt;
        &lt;/xs:simpleType&gt;
      &lt;/xs:attribute&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  
  &lt;xs:element name='abort_job'&gt;
    &lt;xs:complexType&gt;
      &lt;xs:attribute name='vm_id' type='xs:string' use='required'/&gt;
      &lt;xs:attribute name='job_id' type='xs:string' use='optional'/&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  
  &lt;xs:element name='manage_bindings'&gt;
    &lt;xs:complexType&gt;
      &lt;xs:attribute name='vm_id' type='xs:string' use='required'/&gt;
      &lt;xs:element ref='binding'/&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  
  &lt;xs:element name='binding'&gt;
    &lt;xs:complexType&gt;
      &lt;xs:attribute name='name' type='xs:string' use='required'/&gt;
      &lt;xs:attribute name='value' type='xs:string' use='optional'/&gt;
      &lt;xs:attribute name='datatype' type='xs:simpleType' use='optional'/&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;

  &lt;xs:element name='terminate_vm'&gt;
    &lt;xs:complexType&gt;
      &lt;xs:attribute name='vm_id' type='xs:string' use='required'/&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
  
  &lt;xs:element name='malformed_packet' type='empty'/&gt;
  &lt;xs:element name='wrong_farm_password' type='empty'/&gt;
  &lt;xs:element name='internal_error' type='empty'/&gt;
  &lt;xs:element name='farm_is_busy' type='empty'/&gt;
  &lt;xs:element name='species_not_supported' type='empty'/&gt;
  &lt;xs:element name='vm_not_found' type='empty'/&gt;
  &lt;xs:element name='vm_is_busy' type='empty'/&gt;
  &lt;xs:element name='evaluation_error' type='empty'/&gt;
  &lt;xs:element name='permission_denied' type='empty'/&gt;
  &lt;xs:element name='job_already_exists' type='empty'/&gt;
  &lt;xs:element name='job_timed_out' type='empty'/&gt;
  &lt;xs:element name='job_not_found' type='empty'/&gt;
  &lt;xs:element name='job_aborted' type='empty'/&gt;
  &lt;xs:element name='unknown_datatype' type='empty'/&gt;
  &lt;xs:element name='invalid_value' type='empty'/&gt;

  &lt;xs:simpleType name='empty'&gt;
    &lt;xs:restriction base='xs:string'&gt;
      &lt;xs:enumeration value=''/&gt;
    &lt;/xs:restriction&gt;
  &lt;/xs:simpleType&gt;

&lt;/xs:schema&gt;

</pre></div>
<h2>10.
       <a name="acknowledge" id="acknowledge">Acknowledgements</a></h2>
<p class="" style="">
An acknowledgement of contribution must be given to Peter Neubauer (Neo 
Technology). Peter contributed to the testing of an implementation of 
the protocol that was developed in concert with this specification. 
Through the testing process, many issues were identified, rectified, and
 incorported into the protocol specification.
</p>
<hr><a name="appendices" id="appendices"></a><h2>Appendices</h2><hr><a 
name="appendix-docinfo" id="appendix-docinfo"></a><h3>Appendix A: 
Document Information</h3><p class="indent">
            Series: <a href="http://xmpp.org/extensions/">XEP</a><br>
            Number: xxxx<br>
            Publisher: <a href="http://xmpp.org/xsf/">XMPP Standards 
Foundation</a><br>
            Status: 
            <a 
href="http://xmpp.org/extensions/xep-0001.html#states-ProtoXEP">ProtoXEP</a><br>
            Type:
            <a 
href="http://xmpp.org/extensions/xep-0001.html#types-Standards%20Track">Standards
 Track</a><br>
            Version: 0.0.1<br>
            Last Updated: 2009-09-18<br>
                Approving Body: <a href="http://xmpp.org/council/">XMPP 
Council</a><br>Dependencies: XMPP Core, XEP-0001, XEP-0004, XEP-0030, 
XEP-0086<br>
                Supersedes: None<br>
                Superseded By: None<br>
            Short Name: NOT_YET_ASSIGNED<br></p><hr><a 
name="appendix-authorinfo" id="appendix-authorinfo"></a><h3>Appendix B: 
Author Information</h3><div class="indent"><h3>Marko Rodriguez</h3><p 
class="indent">
        Email:
        <a href="mailto:marko@markorodriguez.com">marko@markorodriguez.com</a><br>
        JabberID: 
        <a href="xmpp:okrammarko@gmail.com">okrammarko@gmail.com</a><br>
        URI: 
        <a href="http://markorodriguez.com/">http://markorodriguez.com</a><br></p><h3>Joshua
 Shinavier</h3><p class="indent">
        Email:
        <a href="mailto:josh@fortytwo.net">josh@fortytwo.net</a><br>
        JabberID: 
        <a href="xmpp:parcour@gmail.com">parcour@gmail.com</a><br>
        URI: 
        <a href="http://fortytwo.net/">http://fortytwo.net</a><br></p></div><hr><a
 name="appendix-legal" id="appendix-legal"></a><h3>Appendix C: Legal 
Notices</h3><div class="indent"><h4>Copyright</h4>
		 Linked Process is copyright (c) 2009 by the Los Alamos National 
Laboratory of the United States Government.
	<h4>Permissions</h4>
		Permission is hereby granted, free of charge, to any person obtaining a
 copy of this specification (the "Specification"), to make use of the 
Specification without restriction, including without limitation the 
rights to implement the Specification in a software program, deploy the 
Specification in a network service, and copy, modify, merge, publish, 
translate, distribute, sublicense, or sell copies of the Specification, 
and to permit persons to whom the Specification is furnished to do so, 
subject to the condition that the foregoing copyright notice and this 
permission notice shall be included in all copies or substantial 
portions of the Specification. Unless separate permission is granted, 
modified works that are redistributed shall not contain misleading 
information regarding the authors, title, number, or publisher of the 
Specification, and shall not claim endorsement of the modified works by 
the authors, any organization or project to which the authors belong, or
 the XMPP Standards Foundation.
	<h4>Disclaimer of Warranty</h4><span style="font-weight: bold;">
		## NOTE WELL: This Specification is provided on an "AS IS" BASIS, 
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, express or implied, 
including, without limitation, any warranties or conditions of TITLE, 
NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. 
In no event shall the XMPP Standards Foundation or the authors of this 
Specification be liable for any claim, damages, or other liability, 
whether in an action of contract, tort, or otherwise, arising from, out 
of, or in connection with the Specification or the implementation, 
deployment, or other use of the Specification. ##
	</span><h4>Limitation of Liability</h4>
		In no event and under no legal theory, whether in tort (including 
negligence), contract, or otherwise, unless required by applicable law 
(such as deliberate and grossly negligent acts) or agreed to in writing,
 shall the XMPP Standards Foundation or any author of this Specification
 be liable for damages, including any direct, indirect, special, 
incidental, or consequential damages of any character arising out of the
 use or inability to use the Specification (including but not limited to
 damages for loss of goodwill, work stoppage, computer failure or 
malfunction, or any and all other commercial damages or losses), even if
 the XMPP Standards Foundation or such author has been advised of the 
possibility of such damages.
	<h4>IPR Conformance</h4>
		This XMPP Extension Protocol has been contributed in full conformance 
with the XSF's Intellectual Property Rights Policy (a copy of which may 
be found at &lt;<a 
href="http://www.xmpp.org/extensions/ipr-policy.shtml">http://www.xmpp.org/extensions/ipr-policy.shtml</a>&gt;
 or obtained by writing to XSF, P.O. Box 1641, Denver, CO 80201 USA).
	</div><hr><a name="appendix-xmpp" id="appendix-xmpp"></a><h3>Appendix 
D: Relation to XMPP</h3><p class="indent">The Extensible Messaging and 
Presence Protocol (XMPP) is defined in the XMPP Core (RFC 3920) and XMPP
 IM (RFC 3921) specifications contributed by the XMPP Standards 
Foundation to the Internet Standards Process, which is managed by the 
Internet Engineering Task Force in accordance with RFC 2026. Any 
protocol defined in this document has been developed outside the 
Internet Standards Process and is to be understood as an extension to 
XMPP rather than as an evolution, development, or modification of XMPP 
itself.</p><hr><a name="appendix-discuss" id="appendix-discuss"></a><h3>Appendix
 E: Discussion Venue</h3><p class="indent">The primary venue for 
discussion of XMPP Extension Protocols is the &lt;<a 
href="http://mail.jabber.org/mailman/listinfo/standards">standards@xmpp.org</a>&gt;
 discussion list.</p><p class="indent">Discussion on other xmpp.org 
discussion lists might also be appropriate; see &lt;<a 
href="http://xmpp.org/about/discuss.shtml">http://xmpp.org/about/discuss.shtml</a>&gt;
 for a complete list.</p><p class="indent">Errata can be sent to &lt;<a 
href="mailto:editor@xmpp.org">editor@xmpp.org</a>&gt;.</p><hr><a 
name="appendix-conformance" id="appendix-conformance"></a><h3>Appendix 
F: Requirements Conformance</h3><p class="indent">The following 
requirements keywords as used in this document are to be interpreted as 
described in <a href="http://www.ietf.org/rfc/rfc2119.txt">RFC 2119</a>:
 "MUST", "SHALL", "REQUIRED"; "MUST NOT", "SHALL NOT"; "SHOULD", 
"RECOMMENDED"; "SHOULD NOT", "NOT RECOMMENDED"; "MAY", "OPTIONAL".</p><hr><a
 name="appendix-notes" id="appendix-notes"></a><h3>Appendix G: Notes</h3><div
 class="indent"><p><a name="nt-id2243119" id="nt-id2243119">1</a>. 
Nothing prevents the same device from being a resource consumer in one 
context and being a resource provider in another.</p><p><a 
name="nt-id2252250" id="nt-id2252250">2</a>. There is a tradeoff between
 "general-purpose" and "safety." It is important to ensure that the 
integrity of resource providers are not compomised due to malicious or 
poorly written code.</p><p><a name="nt-id2243270" id="nt-id2243270">3</a>.
 The term <span class="strong">entity</span> is a generic term refering 
to a software component that is involved in a Linked Process cloud.</p><p><a
 name="nt-id2243279" id="nt-id2243279">4</a>. Given the rural naming 
convention, the term <span class="strong">cloud</span> could have been 
substituted by the terms <span class="strong">nation</span> or <span 
class="strong">world</span>. However, in order to maintain some 
connection to the terminology of the distributed computing community, 
the term <span class="strong">cloud</span> was opted for instead the 
more consistent "earthly" term.</p><p><a name="nt-id2243335" 
id="nt-id2243335">5</a>. Note that this is not required as in some 
cases, it is useful to run multiple farms on a single device. For 
example, two farms can have different permissions to resources.</p><p><a
 name="nt-id2243406" id="nt-id2243406">6</a>. This quote was taken from 
the <a href="http://en.wikipedia.org/wiki/Serfdom">surfdom</a> Wikipedia
 entry on 06-06-2009.</p><p><a name="nt-id2254779" id="nt-id2254779">7</a>.
 Please refer to the Extensible Messaging and Presence Protocol (XMPP): 
Instance Messaging and Presence specification.</p><p><a 
name="nt-id2254826" id="nt-id2254826">8</a>. This guideline is a SHOULD 
as opposed to a MUST as there may be cases where a farm instance wishes 
to divert from the guideline in order to handle known malicious JIDs or 
to ensure a private farm (or private cloud).</p><p><a 
name="nt-id2254953" id="nt-id2254953">9</a>. This is an important 
concept to understand. During the life of a virtual machine, the virtual
 machine has a state that changes as jobs are submitted and bindings are
 managed. In other words, a virtual machine is not a "one-job" machine.</p><p><a
 name="nt-id2255027" id="nt-id2255027">10</a>. This is an OPTIONAL 
attribute. Farm passwords are useful for creating private farms in 
order, for example, to allow "looser" permissions with known villeins. 
If no password is required (e.g. a public farm), then no <tt>farm_password</tt>
 attribute SHOULD be provided.</p><p><a name="nt-id2255473" 
id="nt-id2255473">11</a>. Note that, according to XMPP Core, it is 
RECOMMENDED that an <tt>&lt;iq type="error"/&gt;</tt> return the the 
query provided by the villein. In the example above, only the tag name 
is provided without the full body. The reason for this is that for <tt>&lt;submit_job/&gt;</tt>,
 the length of the text body of the tag is unrestricted and thus could 
be a very large piece of code. Thus, returning the original <tt>&lt;submit_job/&gt;</tt>
 stanza in the error response could lead to excessive communication 
overhead.</p><p><a name="nt-id2257210" id="nt-id2257210">12</a>. What is
 provided is not an exhaustive list as there may be other permissions 
that are desired that can not be known <span class="em">apriori</span> 
by the developers of this specification. For example, there may be 
computing resources such as hardware (e.g. video cards, FPGA components)
 that can have specialized requirements and parameters. Moreover, 
particular implementations of a Linked Process farm may have specific 
permissions that are not general to all implementaitons (e.g. 
Java-specific permissions). The data forms specification provided here 
can be extended to support such farm specific resources.</p></div><hr><a
 name="appendix-revs" id="appendix-revs"></a><h3>Appendix H: Revision 
History</h3><div class="indent"><h4>Version 0.0.1 (2009-09-18)</h4><div 
class="indent"><p class="" style="">First draft.</p> (psa)
    </div></div><hr><p>END</p></body></html>